## 数组

#### 数组结构特点：

(1) 线性表。属于线性结构特点的还有 **栈、队列、链表**，非线性结构有**树、图**。

![img](https://static001.geekbang.org/resource/image/b6/77/b6b71ec46935130dff5c4b62cf273477.jpg)

![img](https://static001.geekbang.org/resource/image/6e/69/6ebf42641b5f98f912d36f6bf86f6569.jpg)

(2) **连续**的内存空间并且存储**相同类型**的数据



#### 数组结构特点带来的利与弊

##### <font color='red'>**利：**</font>

**随机访问。**

```java
//寻址公式
a[i]_address = base_address + i * data_type_size
```

由于数据类型是相同的，所以特定的数据类型存储空间的字节大小是一定的，比如Java中的int类型4个字节。只要知道数组首地址，就能根据公式立马计算出任意位置的数组元素地址。就能支持随机访问，时间复杂度为O(1)。

##### <font color='red'>弊：</font>

**低效的删除和插入。**

(1) 插入

* 在有序的数组中插入一个预算，最好情况复杂度是O(1)，即插入到最后一个位置，没有任何搬移动作。最坏情况复杂度是O(n),即插入到第一个位置，之后所有的元素要往后移1个位置。在每个位置插入元素的概率是一样的，所以平均复杂度是 (1+2+3..+n)/n = O(n)。

* 如果是无序的数组，数组只是用来存放数据，则可以将插入位置的元素先放在数组最后一位，然后再将新元素插入。此时的复杂度是O(1)。

(2) 删除

* 和插入同理，删除最后一个元素时间复杂度O(1)，删除第一个元素时间复杂度O(n)，平均复杂度是O(n)。
* 不管插入还是删除，影响时间复杂度的始终决定于数据需要搬移多少次。因此在不追求连续有序的情况下，可以将删除动作一次性执行，以减少搬移数据的次数。例如需要删除某个元素时，仅仅记录这个元素”失效“，当数组空间不够时，再将这些标记”失效“的元素一次性删除。



